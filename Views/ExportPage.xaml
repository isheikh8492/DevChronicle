<Page x:Class="DevChronicle.Views.ExportPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      Title="Export"
      Foreground="{DynamicResource TextFillColorPrimaryBrush}">

    <ScrollViewer>
        <StackPanel Margin="56,24,56,24">
            <TextBlock
                FontSize="28"
                FontWeight="SemiBold"
                Text="Export"
                Margin="0,0,0,6"/>
            <TextBlock
                FontSize="14"
                Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                Text="Generate diaries, resume bullets, and archival exports."
                Margin="0,0,0,20"/>

            <Border Margin="0,0,0,16"
                    Padding="20"
                    CornerRadius="10"
                    BorderThickness="1"
                    BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                    Background="{DynamicResource CardBackgroundFillColorDefaultBrush}">
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <CheckBox Grid.Column="0"
                                  Content="Select all"
                                  VerticalAlignment="Center"
                                  IsChecked="{Binding SelectAll, Mode=TwoWay}"/>
                        <ui:Button Grid.Column="1"
                                   Content="Export Selected as Markdown"
                                   Appearance="Primary"/>
                    </Grid>
                </StackPanel>
            </Border>

            <Border Padding="20"
                    CornerRadius="10"
                    BorderThickness="1"
                    BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                    Background="{DynamicResource CardBackgroundFillColorDefaultBrush}">
                <StackPanel>
                    <TextBlock FontSize="16" FontWeight="SemiBold" Text="Sessions" Margin="0,0,0,12"/>

                    <ItemsControl ItemsSource="{Binding Sessions}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="0,0,0,12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="12"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <CheckBox Grid.Column="0"
                                              VerticalAlignment="Center"
                                              IsChecked="{Binding IsSelected, Mode=TwoWay}"/>

                                    <Border Grid.Column="2"
                                            BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                                            BorderThickness="1"
                                            CornerRadius="8"
                                            Padding="12">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="16"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock FontSize="14"
                                                           FontWeight="SemiBold"
                                                           Text="{Binding Name}"/>
                                                <TextBlock FontSize="12"
                                                           Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                           Text="{Binding RepoAndRange}"
                                                           TextTrimming="CharacterEllipsis"/>
                                                <TextBlock FontSize="12"
                                                           Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                           Text="{Binding RepoPath}"
                                                           TextTrimming="CharacterEllipsis"/>
                                                <TextBlock FontSize="12"
                                                           Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                           Text="{Binding CreatedAtDisplay}"
                                                           Margin="0,2,0,0"/>
                                            </StackPanel>

                                            <Border Grid.Column="2"
                                                    Background="#1F2329"
                                                    CornerRadius="6"
                                                    Padding="12">
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <ui:Button Content="Diary" Appearance="Primary" Padding="10,6" Margin="0,0,8,0"
                                                               IsEnabled="{Binding IsSelected}"/>
                                                    <ui:Button Content="Resume" Appearance="Secondary" Padding="10,6" Margin="0,0,8,0"
                                                               IsEnabled="{Binding IsSelected}"/>
                                                    <ui:Button Content="Archive" Appearance="Secondary" Padding="10,6"
                                                               IsEnabled="{Binding IsSelected}"/>
                                                </StackPanel>
                                            </Border>
                                        </Grid>
                                    </Border>
                                </Grid>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
